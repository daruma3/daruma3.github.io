<!DOCTYPE html>
<html lamg="ja">

<head>
    <title>EDPC_D</title>
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>
<body>
<h1>EDPC D Knapsack1</h1>
    <h2>問題概要</h2>
    <h3><a href="https://atcoder.jp/contests/dp/tasks/dp_d">問題</a></h3>
    <p>重さw<sub>i</sub>,幸福度v<sub>i</sub>の荷物が全部でN個あります．これらの荷物を，重さの合計がW以下となるように
    選び出しナップサックに詰めます．幸福度の最大値を求めなさい．
    </p>

    <h2>考察</h2>
    <p>
        いわゆるナップサック問題．漸化式は<br>
        dp[i+1][j]=dp[i][j](j&lt;w<sub>i</sub>)<br>
        dp[i+1][j]=max(dp[i][j],dp[i][j-w<sub>i</sub>]+v<sub>i</sub>)(else)<br>
        となる．初期化を忘れてしまいぐだったのは反省．
    </p>
    
     
    <h2>コード</h2>
    <div style="overflow:scroll;padding:0;background-color:margin:0;background-color:#EEF;width:100%;"><code>
<ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#EEF;white-space: nowrap;color:#000;">
<li style="background-color:#EEF;">#include&lt;bits/stdc++.h&gt;</li>
<li style="background-color:#EFF;">using namespace std;</li>
<li style="background-color:#EEF;">const long long INF=1000000000;</li>
<li style="background-color:#EFF;">typedef long long ll;</li>
<li style="background-color:#EEF;">#define rep(i, n) for(int i = 0; i &lt; n;i++)</li>
<li style="background-color:#EFF;">#define REP(i, n) for (int i = 0; i &lt;= n;i++)</li>
<li style="background-color:#EEF;">ll dp[105][100005];</li>
<li style="background-color:#EFF;"></li>
<li style="background-color:#EEF;">int main(){</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;int n,W;</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;cin &gt;&gt; n &gt;&gt; W;</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;ll sina[n][2];</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;REP(i,n)</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REP(j, W)</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j] = -INF;</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;rep(i, n){</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin &gt;&gt; sina[i][0] &gt;&gt; sina[i][1];</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][0] = 0;</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;}</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;REP(i, W) dp[0][i] = 0;</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;rep(i, n){</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REP(j, W){</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (j &lt; sina[i][0])</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i + 1][j] = dp[i][j];</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i + 1][j] = max(dp[i][j], dp[i][j - sina[i][0]] + sina[i][1]);</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;}</li>
<li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;cout &lt;&lt; dp[n][W] &lt;&lt; endl;</li>
<li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;return 0;</li>
<li style="background-color:#EEF;">}</li>
</ol></code></div>
        
</body>